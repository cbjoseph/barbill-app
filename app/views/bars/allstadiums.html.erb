

<% @bars.each do |bar| %>
<div class="jumbotron" style="background-color: #e6f2ff">
<div class="container">
  <div class="row">
      <div class="col-lg-8 col-md-8 col-lg-offset-2 col-md-offset-2">
          <div class="modal-body">
                            <!-- News Article Goes Here -->
              <h1><%= bar.name %></h1>
              <h3 class="btn btn-info btn-lg"><a href="/bars/<%=bar.id%>" data-toggle="modal" style="color: white">Click Here for Drinks</a></h3>
              <img class="img-responsive img-centered" src="<%= bar.img_src%>" alt="" data-no-retina>
                 <div id="map<%= bar.id %>" class="map" data-lat="<%= bar.lat %>" data-lng="<%= bar.lng %>" style="height:400px"></div>
            <script>
              var map;
              var marker;
              function initMap() {
                $('.map').each(function() {
                  map = new google.maps.Map(this, {
                    center: {lat: parseFloat($(this).data("lat")), lng: parseFloat($(this).data("lng"))},
                    zoom: 14
                  });
                marker = new google.maps.Marker({
                  position: {lat: parseFloat($(this).data("lat")), lng: parseFloat($(this).data("lng"))},
                  map: map,
                  icon: 'http://maps.google.com/mapfiles/ms/icons/green-dot.png',
                  title: 'Hello World!'
                });
                });
              }
            </script>
                
          </div>
      </div>
  </div>
</div>
</div>
<% end %>

  <script src="https://maps.googleapis.com/maps/api/js?key=<%= ENV['GOOGLEAPI_KEY'] %>&callback=initMap"
            async defer></script> 
